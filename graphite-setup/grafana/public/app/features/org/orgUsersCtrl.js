/*! grafana - v2.5.0 - 2015-10-28
 * Copyright (c) 2015 Torkel Ã–degaard; Licensed Apache-2.0 */

define(["angular"],function(a){"use strict";var b=a.module("grafana.controllers");b.controller("OrgUsersCtrl",["$scope","$http","backendSrv",function(a,b,c){a.user={loginOrEmail:"",role:"Viewer"},a.users=[],a.pendingInvites=[],a.init=function(){a.get(),a.editor={index:0}},a.get=function(){c.get("/api/org/users").then(function(b){a.users=b}),c.get("/api/org/invites").then(function(b){a.pendingInvites=b})},a.updateOrgUser=function(a){c.patch("/api/org/users/"+a.userId,a)},a.removeUser=function(b){c["delete"]("/api/org/users/"+b.userId).then(a.get)},a.revokeInvite=function(b,d){d.stopPropagation(),c.patch("/api/org/invites/"+b.code+"/revoke").then(a.get)},a.copyInviteToClipboard=function(a){a.stopPropagation()},a.openInviteModal=function(){var b=a.$new();b.invitesSent=function(){a.get()},a.appEvent("show-modal",{src:"./app/features/org/partials/invite.html",modalClass:"modal-no-header invite-modal",scope:b})},a.init()}])});