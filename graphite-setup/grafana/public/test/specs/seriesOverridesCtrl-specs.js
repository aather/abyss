/*! grafana - v2.5.0 - 2015-10-28
 * Copyright (c) 2015 Torkel Ã–degaard; Licensed Apache-2.0 */

define(["./helpers","app/panels/graph/seriesOverridesCtrl"],function(a){"use strict";describe("SeriesOverridesCtrl",function(){var b=new a.ControllerTestContext,c={};beforeEach(module("grafana.services")),beforeEach(module("grafana.panels.graph")),beforeEach(b.providePhase({popoverSrv:c})),beforeEach(b.createControllerPhase("SeriesOverridesCtrl")),beforeEach(function(){b.scope.render=function(){}}),describe("When setting an override",function(){beforeEach(function(){b.scope.setOverride({propertyName:"lines"},{value:!0})}),it("should set override property",function(){expect(b.scope.override.lines).to.be(!0)}),it("should update view model",function(){expect(b.scope.currentOverrides[0].name).to.be("Lines"),expect(b.scope.currentOverrides[0].value).to.be("true")})}),describe("When removing overide",function(){it("click should include option and value index",function(){b.scope.setOverride(1,0),b.scope.removeOverride({propertyName:"lines"}),expect(b.scope.currentOverrides.length).to.be(0)})})})});